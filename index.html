<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport"
 content="width=device-width,
 initial-scale=1">
<title>FOR YOU‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  background:black;
}

canvas{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  display:block;
}
#start{
  position: fixed;
  inset: 0;
  background: black;
  display: flex;
  align-items: center;
  justify-content: center;
  color: pink;
  font-size: 22px;
  z-index: 10;
  cursor: pointer;
}
</style>
</head>

<body>

<div id="start">üíó Ch·∫°m v√†o m√†n h√¨nh ƒë·ªÉ b·∫Øt ƒë·∫ßu üíó</div>
<canvas id="canvas"></canvas>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const startScreen = document.getElementById("start");
const music = document.getElementById("music");

function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);
let showFalling = false;
let showText = true;
let showHeart = false;
let time = 0;
let colorTime = 0;
let pulse = 1;
let dkAlpha = 1;
let dkTimer = 0;
// =====FALLING WORDS====
const fallWords = [
"Love you","C·∫£m ∆°n anh","PND‚ù§Ô∏èQGK",
"Bae","Em y√™u anh",
"Only you","‚ù§Ô∏è",
"Y√™u anh","‚ù§Ô∏è",
"Choose you","My heart belongs to you","My love remains with you",
"Still you",
"Just us",
"I love you", "14/02/2026",
"Miss you","‚ù§Ô∏è",
"No regrets",
"My heart",
"Be mine ‚ù§Ô∏è",
"Together",
"Only us",
"Forever ‚ù§Ô∏è"];
let fallingTexts = [];

function createFalling(){
  for(let i=0;i<35;i++){
    fallingTexts.push({
      text: fallWords[Math.floor(Math.random()*fallWords.length)],
      x: Math.random()*canvas.width,
      y: -Math.random()*canvas.height,
      speed: 0.8 + Math.random()*1.6,
      size: 18 + Math.random()*12,
      alpha: 0.4 + Math.random()*0.6
    });
  }
}

function drawFalling(){
    for(let f of fallingTexts){
    ctx.globalAlpha = f.alpha;
    ctx.fillStyle = "#ffb6e6";
    ctx.font = f.size + "px Arial";
    ctx.fillText(f.text, f.x, f.y);

    f.y += f.speed;

    if(f.y > canvas.height){
      f.y = -20;
      f.x = Math.random()*canvas.width;
    }
  }

  ctx.globalAlpha = 1;
}
// ===== STARS =====
let stars = [];
for(let i=0;i<160;i++){
  stars.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*1.8+0.4,
    v: Math.random()*0.6+0.2,
phase: Math.random()*Math.PI*2,   // ‚≠ê th√™m c√°i n√†y
  speed: 0.02 + Math.random()*0.03 // ‚≠ê th√™m c√°i n√†y
  });
}

// ===== TEXT =====
const messages = [
  "M·ªôt b·∫ßu tr·ªùi ƒë·∫ßy sao l·∫•p l√°nh...",
"ƒê√¢y l√† m√≥n qu√† nh·ªè",
"Em mu·ªën d√†nh ri√™ng cho anh",
"Gi·ªØa ng√¢n h√† v√¥ t·∫≠n ·∫•y",
 "Ch·ªâ c√≥ tr√°i tim em v√¨ anh m√† t·ªèa s√°ng",
"L·∫ßn n√†y, em ƒë√£ c√≥ th·ªÉ ng·∫Øm sao c√πng anh r·ªìi",
"Nh·ªØng v√¨ sao do ch√≠nh tay em t·∫°o ra",
"Mang theo t·∫•t c·∫£ y√™u th∆∞∆°ng em mu·ªën g·ª≠i ƒë·∫øn anh",
"Trong kho·∫£nh kh·∫Øc n√†y,",
"Ch·ªâ c√≥ tr√°i tim v√† b·∫ßu tr·ªùi ƒë·∫ßy sao",
"Kho·∫£ng c√°ch d∆∞·ªùng nh∆∞ tan bi·∫øn",
"V√† ch√∫ng ta m√£i ·ªü b√™n nhau",
"No matter the distance between us,",
"My heart will always find you under the same sky. ‚ù§Ô∏è"
  ];

let textIndex = 0;
let textAlpha = 0;
let textTimer = 0;

// ===== HEART =====
let particles = [];

function heart(t){
  return {
    x: 16 * Math.pow(Math.sin(t),3),
    y: 13*Math.cos(t)
      -5*Math.cos(2*t)
      -2*Math.cos(3*t)
      -Math.cos(4*t)
  };
}

function createHeart(){
  particles = [];
  for(let t=0;t<Math.PI*2;t+=0.035){
    let p = heart(t);

    for(let i=0;i<9;i++){
      let spread = Math.random()*2.5;
      particles.push({
        baseX: p.x + (Math.random()-0.5)*spread,
        baseY: p.y + (Math.random()-0.5)*spread,
        offset: Math.random()*Math.PI*2,
        rise: Math.random()*canvas.height,
        alpha: Math.random()*0.5 + 0.2,
        size: Math.random()*2.7 + 1.2
      });
    }
  }
}

// ===== DRAW =====
function draw(){

time += 0.01;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // n·ªÅn
  ctx.fillStyle="black";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // sao
  // sao
for(let s of stars){

  s.y += s.v;
  if(s.y > canvas.height) s.y = 0;

  s.phase += s.speed;

  let twinkle = Math.sin(s.phase) * 0.7 + 0.7;

  ctx.shadowBlur = 8;          // ‚≠ê th√™m glow NGAY TR∆Ø·ªöC khi fill
  ctx.shadowColor = "white";

  ctx.fillStyle = `rgba(255,255,255,${twinkle})`;
  ctx.beginPath();
  ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
  ctx.fill();
}

ctx.shadowBlur = 0; // ‚≠ê reset SAU v√≤ng l·∫∑p (r·∫•t quan tr·ªçng)
  

  // ===== TEXT INTRO =====
  if(showText){
    textTimer++;

   if(textTimer < 60) textAlpha += 0.03;
else if(textTimer > 180) textAlpha -= 0.017;

textAlpha = Math.max(0, Math.min(1, textAlpha));
    ctx.fillStyle = `rgba(255,180,210,${textAlpha})`;
ctx.font = "28px Arial";
    ctx.textAlign = "center";
    ctx.fillText(messages[textIndex], canvas.width/2, canvas.height/2);

    if(textAlpha <= 0){
      textIndex++;
      textTimer = 0;
    
     if(textIndex >= messages.length){

  showText = false;
  showHeart = true;

  ctx.globalAlpha = 1;
  ctx.clearRect(0,0,canvas.width,canvas.height); // xo√° ch·ªØ Arial frame c≈©

  createHeart();

}
    }
  }

  // ===== HEART =====
  if(showHeart){
    time += 0.04;
    colorTime += 0.02;

    pulse = 1 + Math.sin(time)*0.07;

    let cx = canvas.width/2;
    let cy = canvas.height/2;

    for(let p of particles){
      p.offset += 0.06;
      if(p.rise > 0) p.rise -= 2;

      let x = cx + p.baseX*12*pulse + Math.cos(p.offset)*1.2;
      let y = cy - p.baseY*12*pulse + Math.sin(p.offset)*1.2 + p.rise;

      let r = 220 + Math.sin(colorTime)*35;
      let g = 120 + Math.sin(colorTime+2)*40;
      let b = 170 + Math.sin(colorTime+4)*40;

      ctx.shadowBlur = 12;
      ctx.shadowColor = `rgba(${r},${g},${b},0.9)`;
     let fade = Math.abs(p.baseY) - 8;
fade = Math.max(0, Math.min(fade / 10, 1));

// tƒÉng s√°ng ph·∫ßn gi·ªØa
let brightnessBoost = 1.5;

let finalAlpha = Math.min( p.alpha * brightnessBoost * (1 - fade * 0.6),1);

ctx.fillStyle = `rgba(${r},${g},${b},${finalAlpha})`;
      ctx.beginPath();
      ctx.arc(x,y,p.size,0,Math.PI*2);
      ctx.fill();
    }

    // ===== CENTER TEXT (T·ª∞ BI·∫æN M·∫§T) =====
dkTimer++;

if (dkTimer > 360) {
    dkAlpha -= 0.005; // m·ªù d·∫ßn
dkAlpha = Math.max(0, dkAlpha);
}

if (dkAlpha > 0) {
  ctx.globalAlpha = dkAlpha;

ctx.save();
ctx.translate(cx, cy);
ctx.scale(pulse, pulse);

ctx.font = "32px 'Great Vibes',cursive";
ctx.textAlign = "center";
ctx.textBaseline = "middle";
ctx.fillStyle = "rgba(255,200,220,1)";
ctx.fillText("Happy Valentine's Day", 0, 0);

ctx.restore();

ctx.globalAlpha = 1;
 }
if(dkAlpha === 0 && !showFalling){   // ‚≠ê khi text bi·∫øn m·∫•t
    showFalling = true;
    createFalling();
  }
}

// ‚≠ê v·∫Ω ch·ªØ r∆°i
if(showFalling){
  drawFalling();
}

requestAnimationFrame(draw);
}
// ===== START =====
startScreen.addEventListener("click", async () => {

  startScreen.style.display = "none";

  music.play();

  draw();
});
</script>

</body>
</html>